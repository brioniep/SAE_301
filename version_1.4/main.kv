<LoginScreen>:
    Image:
        source: "fond1.png"
        size_hint: (1, 1)
        allow_stretch: True
        keep_ratio: False
        pos_hint: {'x': 0, 'y': 0}

    Label:
        text: "Connexion"
        font_size: "48dp"
        halign: "center"
        color: "#FFFFFF"
        pos_hint: {'center_y': .8}

    TextInput:
        id: username_input
        hint_text: "Username"
        font_size: "20dp"
        size_hint_x: 0.8
        size_hint_y: None
        height: "40dp"
        pos_hint: {'center_x': .5, 'center_y': .55}
        foreground_color: "#FFFFFF"
        background_color: "#2A2A2A"

    TextInput:
        id: password_input
        hint_text: "Password"
        font_size: "20dp"
        size_hint_x: 0.8
        size_hint_y: None
        height: "40dp"
        pos_hint: {'center_x': .5, 'center_y': .45}
        password: True
        foreground_color: "#FFFFFF"
        background_color: "#2A2A2A"

    Button:
        text: 'Connexion'
        font_size: "20dp"
        size_hint_x: 0.9
        size_hint_y: None
        height: "50dp"
        pos_hint: {'center_x': .5, 'center_y': .25}
        background_color: "#1E90FF"
        color: "#FFFFFF"
        on_release: root.on_login()
    Label:
        id: message_label
        text: ""
        font_size: "20dp"
        color: "#FF4500"
        pos_hint: {'center_x': .5, 'center_y': .15}


































<SuccessScreen>:
    Image:
        source: "fond1.png"
        size_hint: (1, 1)
        allow_stretch: True
        keep_ratio: False
        pos_hint: {'x': 0, 'y': 0}

    Label:
        text: '[u]ESP32 control[/u]'
        markup: True
        font_size: "35dp"
        halign: "center"
        color: "#FFFFFF"
        pos_hint: {'center_y': .93}

    Button:
        text: "Déconnexion"
        size_hint_y: None
        height: "50dp"
        background_color: "#1E90FF"
        color: "#FFFFFF"
        on_release: root.on_back()
















    BoxLayout:
        orientation: 'horizontal'
        size_hint: (0.8, None)
        height: "40dp"
        pos_hint: {'center_x': .5, 'center_y': .60}  # Adjusted position
        canvas.before:
            Color:
                rgba: (1, 1, 1, 0.2)
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [10]

        Label:
            id: temperature_1
            text: "Température : "
            font_size: "20dp"
            color: "#FFFFFF"  # Blanc
            size_hint_x: 0.5  # Le label prendra 50% de la largeur
            halign: 'center'
            valign: 'middle'
            text_size: self.size  # S'assure que le texte est centré dans le label

        Label:
            id: temperature_2
            text: ""
            font_size: "20dp"
            color: "#FFFFFF"  # Blanc
            size_hint_x: 0.5  # Le label prendra 50% de la largeur
            halign: 'center'
            valign: 'middle'
            text_size: self.size  # S'assure que le texte est centré dans le label


















    BoxLayout:
        orientation: 'horizontal'
        size_hint: (0.8, None)
        height: "40dp"
        pos_hint: {'center_x': .55, 'center_y': .84}  # Position ajustée

        Label:
            text: "Led 1"
            font_size: "18dp"
            size_hint_x: 0.3  # Ajuste selon le besoin pour la taille du label
            halign: 'left'
            valign: 'middle'
            text_size: self.size

        Button:
            id: button_on_1
            text: "ON"
            size_hint_x: 0.35
            background_color: [0.5, 0.5, 0.5, 1]  # Gris par défaut
            color: "#FFFFFF"
            on_release: root.toggle_on_1()

        Button:
            id: button_off_1
            text: "OFF"
            size_hint_x: 0.35
            background_color: [0.5, 0.5, 0.5, 1]  # Gris par défaut
            color: "#FFFFFF"
            on_release: root.toggle_off_1()

    BoxLayout:
        orientation: 'horizontal'
        size_hint: (0.8, None)
        height: "40dp"
        pos_hint: {'center_x': .55, 'center_y': .77}  # Position ajustée

        Label:
            text: "Led 2"
            font_size: "18dp"
            size_hint_x: 0.3
            halign: 'left'
            valign: 'middle'
            text_size: self.size

        Button:
            id: button_on_2
            text: "ON"
            size_hint_x: 0.35
            background_color: [0.5, 0.5, 0.5, 1]  # Gris par défaut
            color: "#FFFFFF"
            on_release: root.toggle_on_2()

        Button:
            id: button_off_2
            text: "OFF"
            size_hint_x: 0.35
            background_color: [0.5, 0.5, 0.5, 1]  # Gris par défaut
            color: "#FFFFFF"
            on_release: root.toggle_off_2()

    BoxLayout:
        orientation: 'horizontal'
        size_hint: (0.8, None)
        height: "40dp"
        pos_hint: {'center_x': .55, 'center_y': .70}  # Position ajustée

        Label:
            text: "Les deux"
            font_size: "18dp"
            size_hint_x: 0.3
            halign: 'left'
            valign: 'middle'
            text_size: self.size

        Button:
            id: button_on_3
            text: "ON"
            size_hint_x: 0.35
            background_color: [0.5, 0.5, 0.5, 1]  # Gris par défaut
            color: "#FFFFFF"
            on_release: root.toggle_on_3()

        Button:
            id: button_off_3
            text: "OFF"
            size_hint_x: 0.35
            background_color: [0.5, 0.5, 0.5, 1]  # Gris par défaut
            color: "#FFFFFF"
            on_release: root.toggle_off_3()
















    BoxLayout:
        orientation: 'vertical'
        size_hint: (0.8, None)
        height: "80dp"
        pos_hint: {'center_x': .5, 'center_y': .48}  # Adjusted position
        canvas.before:
            Color:
                rgba: (1, 1, 1, 0.2)
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [10]

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: "40dp"

            Label:
                text: "Heure de début : "
                font_size: "20dp"
                color: "#FFFFFF"

            Spinner:
                id: start_hour
                text: '00'
                values: [str(i).zfill(2) for i in range(24)]
                size_hint: None, None
                size: "60dp", "44dp"

            Spinner:
                id: start_minute
                text: '00'
                values: [str(i).zfill(2) for i in range(60)]
                size_hint: None, None
                size: "60dp", "44dp"

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: "40dp"

            Label:
                text: "Heure de fin : "
                font_size: "20dp"
                color: "#FFFFFF"

            Spinner:
                id: end_hour
                text: '00'
                values: [str(i).zfill(2) for i in range(24)]
                size_hint: None, None
                size: "60dp", "44dp"

            Spinner:
                id: end_minute
                text: '00'
                values: [str(i).zfill(2) for i in range(60)]
                size_hint: None, None
                size: "60dp", "44dp"

    BoxLayout:
        orientation: 'vertical'
        size_hint: (0.8, None)
        height: "80dp"
        pos_hint: {'center_x': .5, 'center_y': .33}  # Adjusted position
        canvas.before:
            Color:
                rgba: (1, 1, 1, 0.2)
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [10]
                

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: "40dp"

            Label:
                text: "Heure de début : "
                font_size: "20dp"
                color: "#FFFFFF"

            Spinner:
                id: start_hour2
                text: '00'
                values: [str(i).zfill(2) for i in range(24)]
                size_hint: None, None
                size: "60dp", "44dp"

            Spinner:
                id: start_minute2
                text: '00'
                values: [str(i).zfill(2) for i in range(60)]
                size_hint: None, None
                size: "60dp", "44dp"

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: "40dp"

            Label:
                text: "Heure de fin : "
                font_size: "20dp"
                color: "#FFFFFF"

            Spinner:
                id: end_hour2
                text: '00'
                values: [str(i).zfill(2) for i in range(24)]
                size_hint: None, None
                size: "60dp", "44dp"

            Spinner:
                id: end_minute2
                text: '00'
                values: [str(i).zfill(2) for i in range(60)]
                size_hint: None, None
                size: "60dp", "44dp"

    Label:
        id: good_message
        text: ""
        font_size: "20dp"
        halign: "center"
        color: "#00FF00"
        pos_hint: {'center_y': .24}

    Label:
        id: bad_message
        text: ""
        font_size: "20dp"
        halign: "center"
        color: "#FF0000"
        pos_hint: {'center_y': .20}

    Button:
        text: 'Enregistrer'
        font_size: "20dp"
        size_hint_x: 0.4
        size_hint_y: None
        height: "50dp"
        pos_hint: {'center_x': .5, 'center_y': .13}
        background_color: "#1E90FF"
        color: "#FFFFFF"
        on_release: root.save_time_schedule()